# Configuration cho git-cliff - Giá»‘ng React CHANGELOG
# https://git-cliff.org/docs/configuration

[changelog]
header = """
# Nháº­t kÃ½ thay Ä‘á»•i

Táº¥t cáº£ cÃ¡c thay Ä‘á»•i Ä‘Ã¡ng chÃº Ã½ cá»§a dá»± Ã¡n nÃ y sáº½ Ä‘Æ°á»£c ghi láº¡i trong file nÃ y.

Äá»‹nh dáº¡ng dá»±a trÃªn [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
vÃ  dá»± Ã¡n nÃ y tuÃ¢n thá»§ [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

"""

body = """
{% if version %}\
    {% if version is matching("^[0-9]+\\.[0-9]+\\.[0-9]+") %}\
        ## {{ version | trim_start_matches(pat="v") }} ({{ timestamp | date(format="%B %d, %Y") }})
    {% else %}\
        ## {{ version | trim_start_matches(pat="v") }}
    {% endif %}\
{% else %}\
    ## ChÆ°a phÃ¡t hÃ nh
{% endif %}\
{% set_global breaking_changes = commits | filter(attribute="breaking", value=true) %}\
{% if breaking_changes | length > 0 %}\

### âš ï¸ Breaking Changes
{% for commit in breaking_changes -%}
- {{ commit.message | split(pat="\n") | first | trim }}\
{% if commit.author.name %} ([@{{ commit.author.name }}](https://github.com/{{ commit.author.name }})\
{% endif %} in [{{ commit.id | truncate(length=7, end="") }}](https://github.com/MFitHou/OpenDataFitHou/commit/{{ commit.id }}))
{% endfor -%}
{% endif %}\
{% for group, commits in commits | group_by(attribute="group") %}
### {{ group }}
{% for commit in commits -%}
- {% if commit.scope %}**{{ commit.scope }}**: {% endif %}{{ commit.message | split(pat="\n") | first | trim }}\
{% if commit.author.name %} ([@{{ commit.author.name }}](https://github.com/{{ commit.author.name }})\
{% endif %} in [{{ commit.id | truncate(length=7, end="") }}](https://github.com/MFitHou/OpenDataFitHou/commit/{{ commit.id }}))
{% endfor -%}
{% endfor %}
"""

footer = """
---
*Changelog Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng bá»Ÿi [git-cliff](https://git-cliff.org). Xem hÆ°á»›ng dáº«n táº¡i [docs/GIT_CLIFF_GUIDE.md](docs/GIT_CLIFF_GUIDE.md)*
"""

trim = true

[git]
conventional_commits = true
filter_unconventional = false
split_commits = false
commit_parsers = [
    { message = "^feat", group = "âœ¨ ÄÃ£ thÃªm" },
    { message = "^fix", group = "ğŸ› ÄÃ£ sá»­a" },
    { message = "^doc", group = "ğŸ“š TÃ i liá»‡u" },
    { message = "^perf", group = "âš¡ Performance" },
    { message = "^refactor", group = "â™»ï¸ ÄÃ£ thay Ä‘á»•i" },
    { message = "^style", group = "ğŸ’„ Style" },
    { message = "^test", group = "âœ… Tests" },
    { message = "^chore\\(release\\): prepare for", skip = true },
    { message = "^chore\\(deps\\)", skip = true },
    { message = "^chore", group = "ğŸ”§ Maintenance" },
    { message = "^ci", group = "ğŸ‘· CI/CD" },
    { message = "^build", group = "ğŸ“¦ Build" },
    { message = "^revert", group = "âª Reverts" },
    { body = ".*security", group = "ğŸ”’ Security" },
    # Báº¯t Táº¤T Cáº¢ commits khÃ¡c khÃ´ng theo conventional format
    { message = ".*", group = "ğŸ“ CÃ¡c thay Ä‘á»•i khÃ¡c" },
]
protect_breaking_commits = false
filter_commits = false
commit_preprocessors = [
    # XÃ³a issue numbers khá»i title
    { pattern = '\((\w+\s)?#([0-9]+)\)', replace = "" },
]
tag_pattern = "v[0-9]*"
skip_tags = ""
ignore_tags = ""
topo_order = false
sort_commits = "oldest"

[remote.github]
owner = "MFitHou"
repo = "OpenDataFitHou"